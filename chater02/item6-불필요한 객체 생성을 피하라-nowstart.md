# 불필요한 객체 생성을 피하라

<!-- TOC -->
* [불필요한 객체 생성을 피하라](#불필요한-객체-생성을-피하라)
  * [오토박싱](#오토박싱)
  * [불필요한 객체 생성](#불필요한-객체-생성)
  * [결론](#결론)
<!-- TOC -->

## 오토박싱

* 기본 타입을 Wrapper 클래스로 자동으로 변경해주는 것을 말한다
* 기본 타입 : int, long, float, double, boolean 등
* Wrapper 클래스 : Integer, Long, Flot, Double, Boolean 등
* 
```java
// 오토 박싱
int i = 10;
Integer num = i;

// 오토 언박싱
Integer num = new Integer(10);
int i = num;
```

* 오토박싱은 기본 타입과 그에 대응하는 박싱된 기본 타입의 구분을 흐려주지만, 완전히 없애주는 것은 아니다

## 불필요한 객체 생성

```java
private static long sum() {
    Long sum = 0L;
    for(long i =0; i<= Integer.MAX_VALUE; i++)
        sum += i;
    
    return sum;
}
```

* sum 변수를 long이 아닌 Long으로 선언해서 불필요한 Long 인스턴스가 약 2^31개나 만들어진다
* 객체를 계속 생성하기 때문에 속도 측면에서 아주 좋지 못한 코드가 된다
* 박싱된 기본 타입 보다는 기본타입을 사용하고, 의도치 않은 오토박싱이 숨어들지 않도록 주의

## 결론

이번 아이템을 **"객체 생성은 비싸니 피해야 한다"** 로 오해하면 안 된다
특히나 요즘의 JVM에서는 별다른 일을 하지 않는 작은 객체를 생성하고 회수하는 일이 크게 부담되지 않는다
프로그램의 명확성, 간결성, 기능을 위해서 객체를 추가로 생성하는 것이라면 일반적으로 좋은 일이다
불필요한 객체 생성은 그저 코드 형태와 성능에만 영향은 주기 때문에 참고해서 사용하자

